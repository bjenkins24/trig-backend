<template>
    <a v-if="field.canImpersonate" @click="onClick"
       class="impersonate cursor-pointer flex items-center text-70 hover:text-primary"
    >
        <svg width="22" height="18" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 134.73827 97.51953" class="fill-current">
            <path fill-rule="evenodd" d="M 41.357422,-2.4507397e-6 29.236328,28.283202 l 76.265632,0 L 92.371097,-2.4507397e-6 l -2.8086,0 A 26.263966,6.5659914 0 0 1 67.369141,3.0703075 26.263966,6.5659914 0 0 1 45.148438,-2.4507397e-6 l -3.791016,0 z M 27.232422,33.533202 A 67.50546,18.185321 0 0 0 0,47.259762 l 134.73828,0 a 67.50546,18.185321 0 0 0 -27.17773,-13.72656 l -80.328128,0 z m 11.095703,23.07422 a 20.455589,20.455589 0 0 0 -20.455078,20.45703 20.455589,20.455589 0 0 0 20.455078,20.455079 20.455589,20.455589 0 0 0 20.455078,-20.455079 20.455589,20.455589 0 0 0 -1.949218,-8.66016 16.428572,4.6428571 0 0 0 10.982421,1.19727 16.428572,4.6428571 0 0 0 9.984371,-0.96289 20.455589,20.455589 0 0 0 -1.843746,8.42578 20.455589,20.455589 0 0 0 20.455077,20.455079 20.455589,20.455589 0 0 0 20.455082,-20.455079 20.455589,20.455589 0 0 0 -20.455082,-20.45703 20.455589,20.455589 0 0 0 -11.990231,3.90625 l 0,-0.0508 a 17.589285,5.4464288 0 0 1 -0.18946,0.19531 20.455589,20.455589 0 0 0 -1.20703,0.95508 17.589285,5.4464288 0 0 1 -15.656246,2.98828 17.589285,5.4464288 0 0 1 -15.675782,-2.99024 20.455589,20.455589 0 0 0 -1.25,-1 20.455589,20.455589 0 0 0 -0.0059,-0.006 17.589285,5.4464288 0 0 1 -0.121094,-0.14062 l 0,0.0547 a 20.455589,20.455589 0 0 0 -11.98824,-3.91196 z m 0,4.04101 a 16.41498,16.41498 0 0 1 16.416016,16.41602 16.41498,16.41498 0 0 1 -16.416016,16.41406 16.41498,16.41498 0 0 1 -16.414062,-16.41406 16.41498,16.41498 0 0 1 16.414062,-16.41602 z m 58.083983,0 a 16.41498,16.41498 0 0 1 16.416022,16.41602 16.41498,16.41498 0 0 1 -16.416022,16.41406 16.41498,16.41498 0 0 1 -16.414061,-16.41406 16.41498,16.41498 0 0 1 16.414061,-16.41602 z"/>
        </svg>
    </a>
</template>

<script>
import { BACKEND_URL } from "../constants";

export default {
    props: ["resourceName", "field"],
    methods: {
        onClick() {
            window.open(
                `${BACKEND_URL}/impersonate/?user_id=${this.field.user_id}`,
                "_blank"
            );
        }
    },
    mounted() {
        let parentElement = this.$el.parentElement;
        parentElement.classList.add("td-fit");
        parentElement.style.paddingRight = "0px";
    }
};
</script>
